(this.webpackJsonpcovaxnotify=this.webpackJsonpcovaxnotify||[]).push([[0],{26:function(e,t,c){},27:function(e,t,c){},60:function(e,t,c){"use strict";c.r(t);var n=c(0),i=c.n(n),a=c(5),l=c.n(a),s=(c(26),c(14)),o=c(3),r=(c(27),c(62)),d=c(10),j=c(19),b=c.n(j),h=c(61),u=c(1),O=function(e){var t=e.filteredData,c=e.label;return e.isLoading?Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)(h.a,{animation:"border",variant:"primary"}),Object(u.jsx)(h.a,{animation:"border",variant:"secondary"}),Object(u.jsx)(h.a,{animation:"border",variant:"success"}),Object(u.jsx)(h.a,{animation:"border",variant:"danger"}),Object(u.jsx)(h.a,{animation:"border",variant:"warning"}),Object(u.jsx)(h.a,{animation:"border",variant:"info"}),Object(u.jsx)(h.a,{animation:"border",variant:"dark"})]}):Object(u.jsxs)("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 table-responsive tableBox",children:[Object(u.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 tableLabel",children:c}),t.length>0&&Object(u.jsxs)("table",{className:"table table-striped table-bordered col-lg-12 col-md-12 col-sm-12 col-xs-12",id:"tbl",children:[Object(u.jsxs)("thead",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12",children:[Object(u.jsxs)("tr",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center",children:[Object(u.jsx)("th",{children:"Sr. No."}),Object(u.jsx)("th",{children:"Center"}),Object(u.jsx)("th",{children:"Pincode"}),Object(u.jsx)("th",{colSpan:"4",children:"Capacity"}),Object(u.jsx)("th",{children:"Available Dose"})]}),Object(u.jsxs)("tr",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 text-center",children:[Object(u.jsx)("th",{}),Object(u.jsx)("th",{}),Object(u.jsx)("th",{}),Object(u.jsx)("th",{children:"Age"}),Object(u.jsx)("th",{children:"Vaccine"}),Object(u.jsx)("th",{children:"Date"}),Object(u.jsx)("th",{children:"Available Capacity"}),Object(u.jsx)("th",{})]})]}),Object(u.jsx)("tbody",{children:t.map((function(e,t){var c=e.sessions;return Object(u.jsxs)("tr",{className:"text-center",children:[Object(u.jsx)("td",{children:t+1}),Object(u.jsx)("td",{children:e.name}),Object(u.jsx)("td",{children:e.pincode}),Object(u.jsx)("td",{children:c.map((function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)("tr",{children:e.min_age_limit})},e.session_id)}))}),Object(u.jsx)("td",{children:c.map((function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)("tr",{children:e.vaccine})},e.session_id)}))}),Object(u.jsx)("td",{children:c.map((function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)("tr",{children:e.date})},e.session_id)}))}),Object(u.jsx)("td",{children:c.map((function(e,t){return Object(u.jsx)("div",{children:Object(u.jsx)("tr",{children:e.available_capacity})},e.session_id)}))}),Object(u.jsx)("td",{children:e.total_available_capacity})]},t)}))})]})]})},m=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{className:"template",children:"Just thought of making a small application which can be run from any machine without having to install any additional software. It will display real-time Vaccine Availability on Selected pincodes as well as other nearby pincodes. Please note - this provide very limited functionality. I just developed it to help people find vaccines more easily."}),Object(u.jsx)("p",{className:"template",children:"All you have to do is -"}),Object(u.jsx)("p",{className:"template",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:"Step 1 : Select State. It shall show you the list of cities in next dropdown."}),Object(u.jsx)("li",{children:"Step 2 : Select City/ District. It shall show you the list pincodes where the vaccines are currently available in that district."}),Object(u.jsx)("li",{children:"Step 3 : Select multiple pincodes that is closest to your location."}),Object(u.jsx)("li",{children:"Step 4 : Hit 'Track' button. It should start fetching the data from Cowin website every 2 seconds. and the table will get reflected in real-time and notification with sound will pop up"}),Object(u.jsx)("li",{children:"Step 5 : Hit 'Stop Notification' button. It should stop notification pop-up and sound."})]})}),Object(u.jsx)("p",{className:"template",children:"*Note - Notification pop-up will only appear for selected pincode data. But user will be able to see both filtered and unfiltered data."})]})},x=c(43);var p=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],i=t[1],a=Object(n.useState)([]),l=Object(o.a)(a,2),j=l[0],h=l[1],p=Object(n.useState)([]),v=Object(o.a)(p,2),f=v[0],g=v[1],N=Object(n.useState)([]),y=Object(o.a)(N,2),S=y[0],w=y[1],_=Object(n.useState)([]),D=Object(o.a)(_,2),C=D[0],I=D[1],k=Object(n.useState)([]),A=Object(o.a)(k,2),B=A[0],F=A[1],L=Object(n.useState)([]),P=Object(o.a)(L,2),T=P[0],J=P[1],M=Object(n.useState)([]),V=Object(o.a)(M,2),Y=V[0],E=V[1],H=Object(n.useState)(),W=Object(o.a)(H,2),q=W[0],z=W[1],G=Object(n.useState)(!1),K=Object(o.a)(G,2),Q=K[0],R=K[1],U=Object(n.useState)(!1),X=Object(o.a)(U,2),Z=X[0],$=X[1],ee=function(e,t){return t?e.filter((function(e){return e.min_age_limit===t})):e},te=function(e,t){R(!0);var c=t.selectedOption,n=[],i=[];c&&c.length>0&&c.filter((function(e,t){n.push(e.value)}));var a=e.reduce((function(e,t){var c=t.name,a=t.pincode,l=t.sessions;if(n.includes(a)){var o=ee(l);if(o.length){var r=o.reduce((function(e,t){return e+t.available_capacity}),0);return r&&-1===i.indexOf(a)&&i.push(a),[].concat(Object(s.a)(e),[{name:c,pincode:a,sessions:l,total_available_capacity:r}])}return e}return e}),[]);!function(e,t,c){var n=document.getElementById("notif_sound");n&&n.play(),b()({title:e,subtitle:"Available Vaccine Pincodes",message:t,theme:"darkblue",silent:!1,native:!0})}(JSON.stringify(i)),E(a),R(!1)},ce=function(e){R(!0);var t=x(new Date).format("DD-MM-YYYY");fetch("https://cdn-api.co-vin.in/api/v2/appointment/sessions/public/calendarByDistrict?district_id=".concat(e,"&date=").concat(t)).then((function(e){return e.json()})).then((function(e){var t=e.centers;t.length>0&&(F(t),function(e){var t=[];e.map((function(e){return t.push({value:e.pincode,label:e.pincode})})),g(t)}(t),function(e){var t=e.reduce((function(e,t){var c=t.name,n=t.pincode,i=t.sessions,a=ee(i);if(a.length){var l=a.reduce((function(e,t){return e+t.available_capacity}),0);return[].concat(Object(s.a)(e),[{name:c,pincode:n,sessions:i,total_available_capacity:l}])}return e}),[]);J(t)}(t),R(!1))})).catch((function(){$(!0),R(!1)}))};Object(n.useEffect)((function(){fetch("https://cdn-api.co-vin.in/api/v2/admin/location/states").then((function(e){return e.json()})).then((function(e){var t=e.states,c=[];t.map((function(e){c.push({value:e.state_id,label:e.state_name})})),i(c)}))}),[]);var ne=function(e){fetch("https://cdn-api.co-vin.in/api/v2/admin/location/districts/".concat(e)).then((function(e){return e.json()})).then((function(e){var t=e.districts,c=[];t.map((function(e){return c.push({value:e.district_id,label:e.district_name})})),h(c)}))};return Object(u.jsxs)("div",{className:"App ",children:[Object(u.jsx)("header",{className:"App-header col-lg-12 col-md-12 col-sm-12 col-xs-12",children:Object(u.jsx)("h3",{children:"Welcome To Vaccine Notification !"})}),Object(u.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12",children:Object(u.jsx)(m,{})}),Object(u.jsxs)("div",{className:"row col-lg-12 col-md-12 col-sm-12 col-xs-12 selectBox",children:[Object(u.jsxs)("div",{className:"col-lg-3 col-md-3 col-sm-12 col-xs-12",children:[Object(u.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 row row-no-padding",children:Object(u.jsx)("label",{children:"Select State"})}),Object(u.jsx)(d.a,{value:C.state_id,onChange:function(e){I({selectedOption:e}),ne(e.value)},options:c})]}),Object(u.jsxs)("div",{className:"col-lg-2 col-md-3 col-sm-12 col-xs-12",children:[Object(u.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 row row-no-padding",children:Object(u.jsx)("label",{children:"Select City/ District"})}),Object(u.jsx)(d.a,{value:C.district_id,onChange:function(e){ce(e.value,S.selectedOption)},options:j})]}),Object(u.jsxs)("div",{className:"col-lg-4 col-md-4 col-sm-12 col-xs-12",children:[Object(u.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 row row-no-padding",children:Object(u.jsx)("label",{children:"Select Nearest Pincodes"})}),Object(u.jsx)(d.a,{value:S.pincode,onChange:function(e){w({selectedOption:e})},options:f,isMulti:!0})]}),Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("div",{className:"",children:Object(u.jsx)("label",{children:" "})}),Object(u.jsx)("div",{className:"btn",children:Object(u.jsx)(r.a,{onClick:function(){q&&clearInterval(q),z(setInterval((function(){te(B,S)}),2e3))},variant:"primary",children:"Track"})})]}),Object(u.jsxs)("div",{className:"text-center",children:[Object(u.jsx)("div",{className:"",children:Object(u.jsx)("label",{children:" "})}),Object(u.jsx)("div",{className:"btn",children:Object(u.jsx)(r.a,{onClick:function(){q&&clearInterval(q)},variant:"primary",children:"Stop Notification"})})]})]}),Z&&0===T.length?Object(u.jsx)("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12",children:Object(u.jsx)("label",{className:"text-danger",children:"Data not available at the moment!"})}):Object(u.jsxs)("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12",children:[Y.length>0&&Object(u.jsx)(O,{filteredData:Y,label:"Filtered Data",isLoading:Q}),T.length>0&&Object(u.jsx)(O,{filteredData:T,label:"Other Data",isLoading:Q})]})]})},v=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,63)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,l=t.getTTFB;c(e),n(e),i(e),a(e),l(e)}))};l.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root")),v()}},[[60,1,2]]]);
//# sourceMappingURL=main.6f310bd2.chunk.js.map